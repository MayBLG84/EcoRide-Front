<header class="header">
  <div class="logo-container">
    <a [routerLink]="['/']">
      <img src="assets/ER_logo.png" class="logo" alt="Logo EcoRide" />
      <span class="brand">EcoRide</span>
    </a>
  </div>
  <!--Menu Desktop-->
  <nav class="desktop-menu">
    <a [routerLink]="['']" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }"
      >Accueil</a
    >
    @if (authService.isLoggedIn() && authService.isDriverOrPassenger()) {
      <a
        [routerLink]="['/', authService.getUserId(), 'my-space']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Mon espace</a
      >
      <a
        [routerLink]="['/contact']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Contact</a
      >
    } @else if (authService.isLoggedIn() && authService.isAdmin()) {
      <a
        [routerLink]="['/', authService.getUserId(), 'dashboard']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Dashboard</a
      >
      <a
        [routerLink]="['/', authService.getUserId(), 'users']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Utilizateurs</a
      >
    } @else if (authService.isLoggedIn() && authService.isEmployee()) {
      <a
        [routerLink]="['/', authService.getUserId(), 'evaluations']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Évaluations</a
      >
      <a
        [routerLink]="['/', authService.getUserId(), 'contact-by-user']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Contact par utilisateur</a
      >
    } @else {
      <a
        [routerLink]="['/contact']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Contact</a
      >
    }

    @if (authService.isLoggedIn()) {
      <button class="logout-btn" (click)="logout()">Déconnexion</button>
    } @else {
      <a
        [routerLink]="['/login']"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
        >Connexion</a
      >
      <button class="signup-btn" [routerLink]="['/signup']">S'inscrire</button>
    }
  </nav>
  <!--Menu Burger-->
  <button class="btn btn-outline-light d-lg-none burger" (click)="toggleMenu()">
    <i class="bi" [ngClass]="menuOpen() ? 'bi-x-lg fs-2' : 'bi-list fs-2'"></i>
  </button>
  <!--Menu Mobile-->
  <nav class="mobile-menu" [class.open]="menuOpen()">
    <a [routerLink]="['']" (click)="closeMenu()">Accueil</a>
    @if (authService.isLoggedIn() && authService.isDriverOrPassenger()) {
      <a [routerLink]="['/', authService.getUserId(), 'my-space']" (click)="closeMenu()"
        >Mon espace</a
      >
      <a [routerLink]="['/contact']" (click)="closeMenu()">Contact</a>
    } @else if (authService.isLoggedIn() && authService.isAdmin()) {
      <a [routerLink]="['/', authService.getUserId(), 'dashboard']" (click)="closeMenu()"
        >Dashboard</a
      >
      <a [routerLink]="['/', authService.getUserId(), 'users']" (click)="closeMenu()">Users</a>
    } @else if (authService.isLoggedIn() && authService.isEmployee()) {
      <a [routerLink]="['/', authService.getUserId(), 'evaluations']" (click)="closeMenu()"
        >Évaluations</a
      >
      <a [routerLink]="['/', authService.getUserId(), 'contact-by-user']" (click)="closeMenu()"
        >Contact par utilisateur</a
      >
    } @else {
      <a [routerLink]="['/contact']" (click)="closeMenu()">Contact</a>
    }
    @if (authService.isLoggedIn()) {
      <button class="logout-btn" (click)="logout()">Déconnexion</button>
    } @else {
      <a [routerLink]="['/login']" (click)="closeMenu()">Connexion</a>
      <button class="signup-btn" [routerLink]="['/signup']" (click)="closeMenu()">
        S'inscrire
      </button>
    }
  </nav>
</header>
